<script setup lang="ts">
// ä¸ªäººä¸­å¿ƒé¡µé¢ç»„ä»¶
import { ref } from 'vue';

// å½“å‰æ¿€æ´»çš„æ ‡ç­¾é¡µ
const activeTab = ref('profile'); // profile, notification, security, dataManagement

const switchTab = (tab: string) => {
  activeTab.value = tab;
};
</script>

<template>
  <div class="personal-center">
    <div class="header">
      <h1 class="title">ä¸ªäººä¸­å¿ƒ</h1>
      <div class="subtitle">ç®¡ç†æ‚¨çš„è´¦æˆ·è®¾ç½®å’Œåå¥½</div>
    </div>
    
    <div class="tab-container">
      <div class="tabs">
        <div class="tab" :class="{ active: activeTab === 'profile' }" @click="switchTab('profile')">ä¸ªäººèµ„æ–™</div>
        <div class="tab" :class="{ active: activeTab === 'notification' }" @click="switchTab('notification')">é€šçŸ¥è®¾ç½®</div>
        <div class="tab" :class="{ active: activeTab === 'security' }" @click="switchTab('security')">è´¦æˆ·å®‰å…¨</div>
        <div class="tab" :class="{ active: activeTab === 'dataManagement' }" @click="switchTab('dataManagement')">æ•°æ®ç®¡ç†</div>
      </div>
    </div>

    <div class="content-container">
      <!-- ä¸ªäººèµ„æ–™æ ‡ç­¾é¡µå†…å®¹ -->
      <div v-if="activeTab === 'profile'" class="profile-content">
        <div class="profile-header">
          <div class="profile-icon">
            <i class="user-icon">ğŸ‘¤</i>
          </div>
          <div class="profile-title">
            <h2>ä¸ªäººèµ„æ–™</h2>
            <div class="description">ç®¡ç†æ‚¨çš„åŸºæœ¬ä¿¡æ¯</div>
          </div>
        </div>

        <div class="main-content">
          <div class="avatar-section">
            <div class="avatar">
              <div class="avatar-image"></div>
            </div>
            <div class="avatar-actions">
              <button class="avatar-upload">
                <i class="camera-icon">ğŸ“·</i>
                æ›´æ¢å¤´åƒ
              </button>
              <div class="avatar-tip">æ”¯æŒ JPGã€PNG æ ¼å¼ï¼Œå»ºè®®å°ºå¯¸ 200x200</div>
            </div>
          </div>

          <div class="divider"></div>

          <div class="form-section">
            <div class="form-row">
              <div class="form-group">
                <label>æ˜µç§°</label>
                <input type="text" value="å® ç‰©çˆ±å¥½è€…" />
              </div>
              
              <div class="form-group">
                <label>é‚®ç®±</label>
                <input type="email" value="user@example.com" />
              </div>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label>æ‰‹æœºå·</label>
                <input type="text" value="138****1234" />
              </div>

              <div class="form-group">
                <label>æ‰€åœ¨åœ°åŒº</label>
                <input type="text" value="åŒ—äº¬å¸‚æœé˜³åŒº" />
              </div>
            </div>

            <div class="buttons">
              <button class="save-btn">ä¿å­˜æ›´æ”¹</button>
              <button class="cancel-btn">å–æ¶ˆ</button>
            </div>
          </div>

          <div class="divider"></div>

          <div class="stats-section">
            <div class="stat-card">
              <div class="stat-left">
                <div class="stat-icon pet-icon">ğŸ¾</div>
              </div>
              <div class="stat-right">
                <div class="stat-value blue">2</div>
                <div class="stat-label">æˆ‘çš„å® ç‰©</div>
              </div>
            </div>
            
            <div class="stat-card">
              <div class="stat-left">
                <div class="stat-icon record-icon">ğŸ“</div>
              </div>
              <div class="stat-right">
                <div class="stat-value green">156</div>
                <div class="stat-label">è®°å½•æ€»æ•°</div>
              </div>
            </div>
            
            <div class="stat-card">
              <div class="stat-left">
                <div class="stat-icon reminder-icon">ğŸ“…</div>
              </div>
              <div class="stat-right">
                <div class="stat-value purple">28</div>
                <div class="stat-label">æœ¬æœˆæé†’</div>
              </div>
            </div>
            
            <div class="stat-card">
              <div class="stat-left">
                <div class="stat-icon usage-icon">â°</div>
              </div>
              <div class="stat-right">
                <div class="stat-value orange">365</div>
                <div class="stat-label">ä½¿ç”¨å¤©æ•°</div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- é€šçŸ¥è®¾ç½®æ ‡ç­¾é¡µå†…å®¹ -->
      <div v-if="activeTab === 'notification'" class="profile-content">
        <div class="profile-header">
          <div class="profile-icon">
            <i class="notification-icon">ğŸ””</i>
          </div>
          <div class="profile-title">
            <h2>é€šçŸ¥è®¾ç½®</h2>
            <div class="description">ç®¡ç†æ‚¨æ¥æ”¶é€šçŸ¥çš„æ–¹å¼å’Œæ—¶é—´</div>
          </div>
        </div>

        <div class="main-content">
          <div class="notification-section">
            <div class="notification-item">
              <div class="notification-info">
                <div class="notification-title">æ¨é€é€šçŸ¥</div>
                <div class="notification-desc">æ¥æ”¶åº”ç”¨å†…æ¨é€é€šçŸ¥</div>
              </div>
              <div class="toggle-switch">
                <input type="checkbox" id="push" class="toggle-input" checked />
                <label for="push" class="toggle-label"></label>
              </div>
            </div>

            <div class="divider"></div>

            <div class="notification-item">
              <div class="notification-info">
                <div class="notification-title">é‚®ä»¶é€šçŸ¥</div>
                <div class="notification-desc">æ¥æ”¶é‡è¦äº‹ä»¶çš„é‚®ä»¶æé†’</div>
              </div>
              <div class="toggle-switch">
                <input type="checkbox" id="email" class="toggle-input" checked />
                <label for="email" class="toggle-label"></label>
              </div>
            </div>

            <div class="divider"></div>

            <div class="notification-item">
              <div class="notification-info">
                <div class="notification-title">çŸ­ä¿¡é€šçŸ¥</div>
                <div class="notification-desc">æ¥æ”¶ç´§æ€¥äº‹ä»¶çš„çŸ­ä¿¡æé†’</div>
              </div>
              <div class="toggle-switch">
                <input type="checkbox" id="sms" class="toggle-input" />
                <label for="sms" class="toggle-label"></label>
              </div>
            </div>

            <div class="divider"></div>
            
            <div class="notification-category">
              <h3>é€šçŸ¥ç±»å‹</h3>

              <div class="notification-item">
                <div class="notification-info">
                  <div class="notification-title">å¥åº·æé†’</div>
                  <div class="notification-desc">ç–«è‹—ã€ä½“æ£€ç­‰å¥åº·ç›¸å…³æé†’</div>
                </div>
                <div class="toggle-switch">
                  <input type="checkbox" id="health" class="toggle-input" checked />
                  <label for="health" class="toggle-label"></label>
                </div>
              </div>

              <div class="divider"></div>

              <div class="notification-item">
                <div class="notification-info">
                  <div class="notification-title">æ—¥å¸¸æé†’</div>
                  <div class="notification-desc">å–‚é£Ÿã€é›ç‹—ç­‰æ—¥å¸¸æ´»åŠ¨æé†’</div>
                </div>
                <div class="toggle-switch">
                  <input type="checkbox" id="daily" class="toggle-input" checked />
                  <label for="daily" class="toggle-label"></label>
                </div>
              </div>

              <div class="divider"></div>

              <div class="notification-item">
                <div class="notification-info">
                  <div class="notification-title">ç¤¾åŒºåŠ¨æ€</div>
                  <div class="notification-desc">é¢†å…»ä¿¡æ¯ã€çŸ¥è¯†åˆ†äº«ç­‰</div>
                </div>
                <div class="toggle-switch">
                  <input type="checkbox" id="community" class="toggle-input" />
                  <label for="community" class="toggle-label"></label>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- è´¦æˆ·å®‰å…¨æ ‡ç­¾é¡µå†…å®¹ -->
      <div v-if="activeTab === 'security'" class="profile-content">
        <div class="profile-header">
          <div class="profile-icon">
            <i class="security-icon">ğŸ›¡ï¸</i>
          </div>
          <div class="profile-title">
            <h2>è´¦æˆ·å®‰å…¨</h2>
            <div class="description">ä¿æŠ¤æ‚¨çš„è´¦æˆ·å®‰å…¨</div>
          </div>
        </div>

        <div class="main-content">
          <div class="security-section">
            <div class="security-item">
              <div class="security-info">
                <div class="security-title">ä¿®æ”¹å¯†ç </div>
                <div class="security-desc">å®šæœŸæ›´æ¢å¯†ç ä»¥ä¿æŠ¤è´¦æˆ·å®‰å…¨</div>
              </div>
              <button class="action-btn">ä¿®æ”¹å¯†ç </button>
            </div>

            <div class="divider"></div>

            <div class="security-item">
              <div class="security-info">
                <div class="security-title">ç»‘å®šæ‰‹æœº</div>
                <div class="security-desc">138****1234</div>
              </div>
              <button class="action-btn">æ›´æ¢æ‰‹æœº</button>
            </div>

            <div class="divider"></div>

            <div class="security-item">
              <div class="security-info">
                <div class="security-title">ç»‘å®šé‚®ç®±</div>
                <div class="security-desc">user@example.com</div>
              </div>
              <button class="action-btn">æ›´æ¢é‚®ç®±</button>
            </div>

            <div class="divider"></div>

            <div class="security-record">
              <h3>ç™»å½•è®°å½•</h3>

              <div class="record-item">
                <div class="record-info">
                  <div class="device-info">iPhone â€¢ åŒ—äº¬å¸‚</div>
                </div>
                <div class="record-time">2024-01-10 14:30</div>
              </div>

              <div class="divider"></div>

              <div class="record-item">
                <div class="record-info">
                  <div class="device-info">Chrome â€¢ ä¸Šæµ·å¸‚</div>
                </div>
                <div class="record-time">2024-01-09 09:15</div>
              </div>

              <div class="divider"></div>

              <div class="record-item">
                <div class="record-info">
                  <div class="device-info">Android â€¢ å¹¿å·å¸‚</div>
                </div>
                <div class="record-time">2024-01-08 20:45</div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- æ•°æ®ç®¡ç†æ ‡ç­¾é¡µå†…å®¹ -->
      <div v-if="activeTab === 'dataManagement'" class="profile-content">
        <div class="profile-header">
          <div class="profile-icon">
            <i class="data-icon">ğŸ“Š</i>
          </div>
          <div class="profile-title">
            <h2>æ•°æ®ç®¡ç†</h2>
            <div class="description">ç®¡ç†æ‚¨çš„æ•°æ®å’Œéšç§</div>
          </div>
        </div>

        <div class="main-content">
          <div class="data-section">
            <div class="data-item">
              <div class="data-info">
                <div class="data-title">å¯¼å‡ºæ•°æ®</div>
                <div class="data-desc">å¯¼å‡ºæ‚¨çš„æ‰€æœ‰å® ç‰©æ•°æ®å’Œè®°å½•</div>
              </div>
              <button class="action-btn export-btn">
                <i class="export-icon">â¬‡ï¸</i>
                å¯¼å‡ºæ•°æ®
              </button>
            </div>

            <div class="divider"></div>

            <div class="data-item">
              <div class="data-info">
                <div class="data-title">æ•°æ®å¤‡ä»½</div>
                <div class="data-desc">æœ€åå¤‡ä»½æ—¶é—´: 2024-01-10</div>
              </div>
              <button class="action-btn backup-btn">ç«‹å³å¤‡ä»½</button>
            </div>

            <div class="divider"></div>

            <div class="data-danger">
              <h3>å±é™©æ“ä½œ</h3>

              <div class="data-item danger">
                <div class="data-info">
                  <div class="data-title danger-text">æ¸…ç©ºæ‰€æœ‰æ•°æ®</div>
                  <div class="data-desc">åˆ é™¤æ‰€æœ‰å® ç‰©ä¿¡æ¯å’Œè®°å½•ï¼Œæ­¤æ“ä½œä¸å¯æ¢å¤</div>
                </div>
                <button class="action-btn danger-btn">æ¸…ç©ºæ•°æ®</button>
              </div>

              <div class="divider"></div>

              <div class="data-item danger">
                <div class="data-info">
                  <div class="data-title danger-text">æ³¨é”€è´¦æˆ·</div>
                  <div class="data-desc">æ°¸ä¹…åˆ é™¤è´¦æˆ·å’Œæ‰€æœ‰ç›¸å…³æ•°æ®</div>
                </div>
                <button class="action-btn danger-btn">æ³¨é”€è´¦æˆ·</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<style scoped>
.personal-center {
  width: 100%;
  min-height: 100vh;
  background-color: #f7f7f7;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
}

.header {
  background-color: #fff;
  padding: 20px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
}

.title {
  font-size: 24px;
  font-weight: bold;
  margin: 0;
  padding: 0;
}

.subtitle {
  font-size: 14px;
  color: #666;
  margin-top: 5px;
}

.tab-container {
  background-color: #fff;
  border-bottom: 1px solid #eee;
}

.tabs {
  display: flex;
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
}

.tab {
  padding: 15px 20px;
  cursor: pointer;
  font-size: 14px;
  text-align: center;
  flex: 1;
  max-width: 150px;
}

.tab.active {
  color: #000;
  font-weight: 500;
  border-bottom: 2px solid #000;
}

.content-container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

.profile-content {
  background-color: #fff;
  border-radius: 4px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
}

.profile-header {
  display: flex;
  align-items: center;
  padding: 20px;
}

.profile-icon {
  font-size: 20px;
  margin-right: 10px;
  color: #333;
}

.profile-title h2 {
  font-size: 16px;
  margin: 0;
  padding: 0;
}

.description {
  color: #666;
  font-size: 12px;
  margin-top: 5px;
}

.main-content {
  padding: 0 20px 20px;
}

.avatar-section {
  display: flex;
  padding: 20px 0;
  border-bottom: 1px solid #eee;
  align-items: center;
}

.avatar {
  margin-right: 30px;
}

.avatar-image {
  width: 80px;
  height: 80px;
  border-radius: 50%;
  background-color: #eee;
}

.avatar-actions {
  display: flex;
  flex-direction: column;
}

.avatar-upload {
  display: flex;
  align-items: center;
  background-color: #fff;
  border: 1px solid #ddd;
  border-radius: 4px;
  padding: 6px 12px;
  cursor: pointer;
  margin-bottom: 10px;
  font-size: 14px;
}

.camera-icon {
  margin-right: 5px;
  font-size: 14px;
}

.avatar-tip {
  font-size: 12px;
  color: #999;
}

.divider {
  height: 1px;
  background-color: #eee;
  margin: 0;
}

.form-section {
  padding: 20px 0;
}

.form-row {
  display: flex;
  gap: 20px;
  margin-bottom: 15px;
}

.form-group {
  flex: 1;
}

.form-group label {
  display: block;
  margin-bottom: 10px;
  font-size: 14px;
}

.form-group input {
  width: 100%;
  padding: 10px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 14px;
  box-sizing: border-box;
}

.buttons {
  margin-top: 20px;
}

.save-btn {
  background-color: #ff7700;
  color: white;
  border: none;
  padding: 10px 20px;
  border-radius: 4px;
  cursor: pointer;
  font-size: 14px;
  margin-right: 10px;
}

.cancel-btn {
  background-color: #fff;
  border: 1px solid #ddd;
  padding: 10px 20px;
  border-radius: 4px;
  cursor: pointer;
  font-size: 14px;
}

.stats-section {
  display: flex;
  gap: 15px;
  padding: 20px 0;
}

.stat-card {
  flex: 1;
  padding: 15px;
  border: 1px solid #eee;
  border-radius: 8px;
  display: flex;
  align-items: center;
}

.stat-left {
  margin-right: 10px;
}

.stat-icon {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 20px;
}

.pet-icon {
  background-color: rgba(0, 0, 255, 0.1);
  color: blue;
}

.record-icon {
  background-color: rgba(0, 128, 0, 0.1);
  color: green;
}

.reminder-icon {
  background-color: rgba(128, 0, 128, 0.1);
  color: purple;
}

.usage-icon {
  background-color: rgba(255, 165, 0, 0.1);
  color: orange;
}

.stat-right {
  display: flex;
  flex-direction: column;
}

.stat-value {
  font-size: 20px;
  font-weight: bold;
  line-height: 1;
  margin-bottom: 5px;
}

.stat-label {
  font-size: 12px;
  color: #666;
}

.blue {
  color: blue;
}

.green {
  color: green;
}

.purple {
  color: purple;
}

.orange {
  color: orange;
}

/* é€šçŸ¥è®¾ç½®æ ·å¼ */
.notification-section {
  padding: 20px 0;
}

.notification-category {
  margin-top: 30px;
}

.notification-category h3 {
  font-size: 16px;
  margin-bottom: 15px;
  font-weight: 500;
}

.notification-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 20px 0;
}

.notification-title {
  font-size: 16px;
  margin-bottom: 5px;
}

.notification-desc {
  color: #666;
  font-size: 14px;
}

/* å¼€å…³æŒ‰é’®æ ·å¼ */
.toggle-switch {
  position: relative;
}

.toggle-input {
  position: absolute;
  opacity: 0;
  width: 0;
  height: 0;
}

.toggle-label {
  position: relative;
  display: inline-block;
  width: 50px;
  height: 26px;
  background-color: #ccc;
  border-radius: 26px;
  transition: background-color 0.2s;
  cursor: pointer;
}

.toggle-label:after {
  content: '';
  position: absolute;
  top: 3px;
  left: 3px;
  width: 20px;
  height: 20px;
  background-color: white;
  border-radius: 50%;
  transition: transform 0.2s;
}

.toggle-input:checked + .toggle-label {
  background-color: #4cd964;
}

.toggle-input:checked + .toggle-label:after {
  transform: translateX(24px);
}

/* è´¦æˆ·å®‰å…¨æ ·å¼ */
.security-section {
  padding: 20px 0;
}

.security-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 20px 0;
}

.security-title {
  font-size: 16px;
  margin-bottom: 5px;
}

.security-desc {
  color: #666;
  font-size: 14px;
}

.action-btn {
  padding: 8px 15px;
  border-radius: 4px;
  border: 1px solid #ddd;
  background-color: #fff;
  font-size: 14px;
  cursor: pointer;
}

.security-record {
  margin-top: 30px;
}

.security-record h3 {
  font-size: 16px;
  margin-bottom: 15px;
  font-weight: 500;
}

.record-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 15px 0;
}

.device-info {
  font-size: 14px;
}

.record-time {
  color: #666;
  font-size: 14px;
}

/* æ•°æ®ç®¡ç†æ ·å¼ */
.data-section {
  padding: 20px 0;
}

.data-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 20px 0;
}

.data-title {
  font-size: 16px;
  margin-bottom: 5px;
}

.data-desc {
  color: #666;
  font-size: 14px;
}

.export-btn {
  display: flex;
  align-items: center;
}

.export-icon {
  margin-right: 5px;
}

.data-danger {
  margin-top: 30px;
}

.data-danger h3 {
  font-size: 16px;
  margin-bottom: 15px;
  font-weight: 500;
  color: #ff3b30;
}

.danger-text {
  color: #ff3b30;
}

.danger-btn {
  color: #ff3b30;
  border-color: #ff3b30;
}

@media (max-width: 768px) {
  .form-row {
    flex-direction: column;
    gap: 15px;
  }
  
  .stats-section {
    flex-wrap: wrap;
  }
  
  .stat-card {
    min-width: calc(50% - 10px);
  }
}
</style> 